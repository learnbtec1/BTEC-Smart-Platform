# Microservices Architecture

Auto-generated microservices setup created on 2025-12-30 00:25:18

## Services

This project contains 1 microservice(s):

- **example_service**: Running on port 8000

## Architecture

- **API Gateway**: Routes requests to individual services (port 80)
- **Services**: Independent microservices with their own containers
- **Network**: All services communicate via Docker bridge network

## Quick Start

### Prerequisites

- Docker and Docker Compose installed
- Python 3.11+ (for local development)

### Running with Docker

1. Build and start all services:
```bash
docker-compose -f docker-compose-microservices.yml up --build
```

2. Access the API Gateway:
```
http://localhost
```

3. Access individual services:
   - example_service: http://localhost:8000

### Stopping Services

```bash
docker-compose -f docker-compose-microservices.yml down
```

## API Gateway Usage

The gateway routes requests to services using the pattern:
```
http://localhost/<service_name>/<endpoint>
```

### Examples

```bash
# List all services
curl http://localhost/services

# Call example_service root endpoint
curl http://localhost/example_service/

# Health check
curl http://localhost/health
```

## Local Development

### Setup Individual Service

```bash
cd services/<service_name>
pip install -r requirements.txt
uvicorn main:app --reload --port <port>
```

### Setup Gateway

```bash
cd gateway
pip install -r requirements.txt
uvicorn main:app --reload --port 80
```

## Project Structure

```
.
├── services/
│   ├── example_service/
│   │   ├── main.py
│   │   ├── requirements.txt
│   │   ├── Dockerfile
│   │   └── __init__.py
├── gateway/
│   ├── main.py
│   ├── requirements.txt
│   ├── Dockerfile
│   └── __init__.py
├── docker-compose-microservices.yml
├── setup_microservices.py
├── setup.log
└── README-MICROSERVICES.md
```

## Adding New Services

1. Create service directory: `mkdir services/new_service`
2. Add Python code, requirements.txt
3. Run setup script: `python setup_microservices.py`
4. Rebuild containers: `docker-compose -f docker-compose-microservices.yml up --build`

## Troubleshooting

### View logs
```bash
docker-compose -f docker-compose-microservices.yml logs -f [service_name]
```

### Check service health
```bash
curl http://localhost/<service_name>/health
```

### Rebuild specific service
```bash
docker-compose -f docker-compose-microservices.yml up --build <service_name>
```

## Setup Log

All automation actions are logged in `setup.log`

## Generated Files

This setup automatically created/fixed:
- 2 issues across all services
- Docker configurations for all services
- Unified docker-compose.yml
- FastAPI API Gateway with routing
- Service health checks
- Missing __init__.py files
- Missing requirements.txt files
- Missing Dockerfiles

## Notes

- All services use FastAPI and uvicorn
- Services communicate via Docker network
- Gateway provides unified API endpoint
- Each service is independently deployable
- Health checks ensure service availability

## Next Steps

1. Customize service implementations in `services/*/main.py`
2. Add environment variables in docker-compose.yml
3. Implement authentication/authorization in gateway
4. Add database services (PostgreSQL, Redis, etc.)
5. Set up CI/CD pipeline
6. Add monitoring and logging (Prometheus, Grafana)

---

*Auto-generated by setup_microservices.py*
